"use strict";$(function(){function e(t,a,o){clearTimeout(f);var n=t*o.width()/a;o.find("#bar").animate({width:n},500).html(t+"s"),t>0&&(f=setTimeout(function(){e(t-1,a,o)},1e3)),0===t&&(console.log(r),h.hide(),r.pause(),c.fadeIn(),i())}function t(){m.html(""),l.html("Nice. <br>On to the next one.")}function i(){m.html(""),l.html("")}function a(){var t=g.title.shuffle();m.empty();for(var i=0;i<t.length;i++)m.append("<li data-index="+i+">"+t[i]+"</li>");e(30,30,$("#progressBar")),$("#movie_picture").css("background-image","url(public/assets/"+g.image+")"),r.src="public/assets/"+g.audio+".mp3",r.loop=!0,r.play(),s.text(g.hint)}function o(){$(".welcome").fadeOut(),a()}function n(){c.hide(),u.hide(),h.show(),u.hide(),p=0,g=d[p],a()}console.log("Guess Movie Game");var r=$("audio")[0],l=$("#result_list"),m=$("#letters_list"),s=$("#dropdownHint"),c=$(".gameover"),h=$(".gameRunning"),u=$(".winner"),d=[{title:"SCREAM",image:"scream.bmp",audio:"scream",hint:"What's your favourite Scary Movie?"},{title:"IRONMAN",image:"ironman.bmp",audio:"ironman",hint:"Heroes aren't born. They're built."},{title:"ROBOCOP",image:"robocop.bmp",audio:"robocop",hint:"Part man. Part machine. All cop."},{title:"PREDATOR",image:"predator.bmp",audio:"predator",hint:"Soon the hunt will begin."},{title:"GLADIATOR",image:"gladiator.bmp",audio:"gladiator",hint:"Father of a murdered son, husband to a murdered wife and I shall have my vengeance in this life or the next."},{title:"V FOR VENDETTA",image:"vforvendetta.bmp",audio:"vforvendetta",hint:"Remember, remember the 5th of November."},{title:"SILENCE OF THE LAMBS",image:"silenceofthelambs.bmp",audio:"silenceofthelambs",hint:"Hello Clarice..."},{title:"FRIDAY THE 13TH",image:"fridaythe13th.bmp",audio:"fridaythe13th",hint:"Fridays will never be the same again."},{title:"BATMAN VS SUPERMAN",image:"batmanvssuperman.bmp",audio:"batmanvssuperman",hint:"BvS: Dawn of Justice"}],p=0,g=d[p],f=null;console.log("Movie:",g),String.prototype.shuffle=function(){for(var e=this.split(""),t=e.length,i=t-1;i>0;i--){var a=Math.floor(Math.random()*(i+1)),o=e[i];e[i]=e[a],e[a]=o}return e.join("")},$("#welcomeBtn").on("click",o),$("#restartBtn").on("click",n),m.on("click","li",function(e){$(e.target).hide();var o=$(e.target).text(),m=$(e.target).data("index");console.log(o),l.append("<li data-index="+m+">"+o+"</li>"),l.text()===g.title&&(clearTimeout(f),r.src="public/assets/correct.mp3",r.loop=!1,r.play(),t(),p<d.length-1?(p++,g=d[p],i(),setTimeout(a,1800)):(h.hide(),u.show(),$("#restartBtn2").on("click",n)))}),l.on("click","li",function(e){var t=$(e.target).data("index");m.children().filter(function(e){return e===t}).show(),$(e.target).remove(),console.log($(e.target))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwidGltZXJJZCIsInRpbWVsZWZ0IiwidGltZXRvdGFsIiwiJGVsZW1lbnQiLCJjbGVhclRpbWVvdXQiLCJwcm9ncmVzc0JhcldpZHRoIiwiYW5pbWF0ZSIsIndpZHRoIiwiaHRtbCIsImZpbmQiLCJjb25zb2xlIiwibG9nIiwiYXVkaW8iLCIkcnVuR2FtZSIsImhpZGUiLCIkbGV0dGVycyIsIiRyZXN1bHQiLCJjb25ncmF0cyIsImNsZWFyTGV0dGVycyIsInNodWZmbGVkV29yZCIsImN1cnJlbnRUaXRsZSIsInRpdGxlIiwic2h1ZmZsZSIsImVtcHR5IiwiYXBwZW5kIiwibGVuZ3RoIiwiaSIsInByb2dyZXNzIiwiY3NzIiwiaW1hZ2UiLCJsb29wIiwicGxheSIsIiRoaW50IiwidGV4dCIsImhpbnQiLCJoaWRlV2VsY29tZSIsImRpc3BsYXlXb3JkIiwiJGdhbWVPdmVyIiwiJHdpbkdhbWUiLCJzaG93IiwiY3VycmVudEluZGV4IiwibW92aWVUaXRsZXMiLCJTdHJpbmciLCJwcm90b3R5cGUiLCJhIiwidGhpcyIsInNwbGl0IiwibiIsImoiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0bXAiLCJqb2luIiwib24iLCJyZXN0YXJ0R2FtZSIsInRhcmdldCIsImUiLCJsZXR0ZXIiLCJpbmRleCIsImRhdGEiLCJzZXRUaW1lb3V0IiwiZGF0YUluZGV4IiwiY2hpbGRyZW4iLCJmaWx0ZXIiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBMkRBLFFBQUlDLEdBQUpDLEVBQUFDLEVBQUFDLEdBR0VDLGFBQWFKLEVBRGYsSUFBQUssR0FBa0JKLEVBQVVDLEVBQVdDLFFBQVVELENBQy9DRSxHQUFBQSxLQUFhSixRQUFiTSxTQUFBQyxNQUFBRixHQUFBLEtBQUFHLEtBQUFQLEVBQUEsS0FDQUEsRUFBSUksSUFDSkYsRUFBU00sV0FBYUgsV0FDbkJMLEVBQUFBLEVBQWMsRUFBQUMsRUFBQUMsSUFDZkgsTUFBQSxJ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SUEsT0FBSixrQkFBdUJJLEVBQXZCLElBQUFzQyxFQUFBLFNBQ0V0RCxFQUFBQSxTQUFBZ0IsRUFBQUMsUUFDQVQsYUFBQVosR0FDQVksRUFBTWtCLElBQU5sQiw0QkFDQUEsRUFBTW1CLE1BQU4sRUFDQWQsRUFBQUEsT0FBQUEsSUFLRUcsRUFBZXFCLEVBQVlELE9BQUFBLEdBQzNCdEIsSUFDQTJDLEVBQVd6QixFQUFhSSxHQUoxQnRCLElBTUUyQyxXQUFBekIsRUFBQSxRQUdBckMsRUFBRWUsT0FFSHdCLEVBQUFDLE9BQ0Z4QyxFQUFBLGdCQUFBdUQsR0FBQSxRQUFBQyxPQVdEeEQsRUFBSXlELEdBQUFBLFFBQUosS0FBQSxTQUFBQyxHQUpBLEdBQU1LLEdBQVkvRCxFQUFFMEQsRUFBRUQsUUFBUUksS0FBSyxRQU1uQzdDLEdBQUFnRCxXQUFBQyxPQUFBLFNBQUFMLEdBQ0EsTUFBQUEsS0FBQUcsSUFDQXBELE9BVEZYLEVBQUEwRCxFQUFBRCxRQUFBUyxTQWdCRnZELFFBQUFDLElBQUFaLEVBQUEwRCxFQUFBRCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcbiAgY29uc29sZS5sb2coJ0d1ZXNzIE1vdmllIEdhbWUnKTtcblxuICBjb25zdCBhdWRpbyA9ICQoJ2F1ZGlvJylbMF07XG4gIGNvbnN0ICRyZXN1bHQgPSAkKCcjcmVzdWx0X2xpc3QnKTtcbiAgY29uc3QgJGxldHRlcnMgPSAkKCcjbGV0dGVyc19saXN0Jyk7XG4gIGNvbnN0ICRoaW50ID0gJCgnI2Ryb3Bkb3duSGludCcpO1xuICBjb25zdCAkZ2FtZU92ZXIgPSAkKCcuZ2FtZW92ZXInKTtcbiAgY29uc3QgJHJ1bkdhbWUgPSAkKCcuZ2FtZVJ1bm5pbmcnKTtcbiAgY29uc3QgJHdpbkdhbWUgPSAkKCcud2lubmVyJyk7XG4gIGNvbnN0IG1vdmllVGl0bGVzID0gW3tcbiAgICB0aXRsZTogJ1NDUkVBTScsXG4gICAgaW1hZ2U6ICdzY3JlYW0uYm1wJyxcbiAgICBhdWRpbzogJ3NjcmVhbScsXG4gICAgaGludDogJ1doYXRcXCdzIHlvdXIgZmF2b3VyaXRlIFNjYXJ5IE1vdmllPydcbiAgfSwge1xuICAgIHRpdGxlOiAnSVJPTk1BTicsXG4gICAgaW1hZ2U6ICdpcm9ubWFuLmJtcCcsXG4gICAgYXVkaW86ICdpcm9ubWFuJyxcbiAgICBoaW50OiAnSGVyb2VzIGFyZW5cXCd0IGJvcm4uIFRoZXlcXCdyZSBidWlsdC4nXG4gIH0sIHtcbiAgICB0aXRsZTogJ1JPQk9DT1AnLFxuICAgIGltYWdlOiAncm9ib2NvcC5ibXAnLFxuICAgIGF1ZGlvOiAncm9ib2NvcCcsXG4gICAgaGludDogJ1BhcnQgbWFuLiBQYXJ0IG1hY2hpbmUuIEFsbCBjb3AuJ1xuICB9LCB7XG4gICAgdGl0bGU6ICdQUkVEQVRPUicsXG4gICAgaW1hZ2U6ICdwcmVkYXRvci5ibXAnLFxuICAgIGF1ZGlvOiAncHJlZGF0b3InLFxuICAgIGhpbnQ6ICdTb29uIHRoZSBodW50IHdpbGwgYmVnaW4uJ1xuICB9LCB7XG4gICAgdGl0bGU6ICdHTEFESUFUT1InLFxuICAgIGltYWdlOiAnZ2xhZGlhdG9yLmJtcCcsXG4gICAgYXVkaW86ICdnbGFkaWF0b3InLFxuICAgIGhpbnQ6ICdGYXRoZXIgb2YgYSBtdXJkZXJlZCBzb24sIGh1c2JhbmQgdG8gYSBtdXJkZXJlZCB3aWZlIGFuZCBJIHNoYWxsIGhhdmUgbXkgdmVuZ2VhbmNlIGluIHRoaXMgbGlmZSBvciB0aGUgbmV4dC4nXG4gIH0sIHtcbiAgICB0aXRsZTogJ1YgRk9SIFZFTkRFVFRBJyxcbiAgICBpbWFnZTogJ3Zmb3J2ZW5kZXR0YS5ibXAnLFxuICAgIGF1ZGlvOiAndmZvcnZlbmRldHRhJyxcbiAgICBoaW50OiAnUmVtZW1iZXIsIHJlbWVtYmVyIHRoZSA1dGggb2YgTm92ZW1iZXIuJ1xuICB9LCB7XG4gICAgdGl0bGU6ICdTSUxFTkNFIE9GIFRIRSBMQU1CUycsXG4gICAgaW1hZ2U6ICdzaWxlbmNlb2Z0aGVsYW1icy5ibXAnLFxuICAgIGF1ZGlvOiAnc2lsZW5jZW9mdGhlbGFtYnMnLFxuICAgIGhpbnQ6ICdIZWxsbyBDbGFyaWNlLi4uJ1xuICB9LCB7XG4gICAgdGl0bGU6ICdGUklEQVkgVEhFIDEzVEgnLFxuICAgIGltYWdlOiAnZnJpZGF5dGhlMTN0aC5ibXAnLFxuICAgIGF1ZGlvOiAnZnJpZGF5dGhlMTN0aCcsXG4gICAgaGludDogJ0ZyaWRheXMgd2lsbCBuZXZlciBiZSB0aGUgc2FtZSBhZ2Fpbi4nXG4gIH0sIHtcbiAgICB0aXRsZTogJ0JBVE1BTiBWUyBTVVBFUk1BTicsXG4gICAgaW1hZ2U6ICdiYXRtYW52c3N1cGVybWFuLmJtcCcsXG4gICAgYXVkaW86ICdiYXRtYW52c3N1cGVybWFuJyxcbiAgICBoaW50OiAnQnZTOiBEYXduIG9mIEp1c3RpY2UnXG4gIH1dO1xuXG4gIGxldCBjdXJyZW50SW5kZXggPSAwO1xuICBsZXQgY3VycmVudFRpdGxlID0gbW92aWVUaXRsZXNbY3VycmVudEluZGV4XTtcbiAgbGV0IHRpbWVySWQgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIHByb2dyZXNzKHRpbWVsZWZ0LCB0aW1ldG90YWwsICRlbGVtZW50KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIHZhciBwcm9ncmVzc0JhcldpZHRoID0gdGltZWxlZnQgKiAkZWxlbWVudC53aWR0aCgpIC8gdGltZXRvdGFsO1xuICAgICRlbGVtZW50LmZpbmQoJyNiYXInKS5hbmltYXRlKHsgd2lkdGg6IHByb2dyZXNzQmFyV2lkdGggfSwgNTAwKS5odG1sKHRpbWVsZWZ0ICsgJ3MnKTtcbiAgICBpZih0aW1lbGVmdCA+IDApIHtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9ncmVzcyh0aW1lbGVmdCAtIDEsIHRpbWV0b3RhbCwgJGVsZW1lbnQpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICAgIGlmKHRpbWVsZWZ0ID09PSAwKXtcbiAgICAgIGNvbnNvbGUubG9nKGF1ZGlvKTtcbiAgICAgICRydW5HYW1lLmhpZGUoKTtcbiAgICAgIGF1ZGlvLnBhdXNlKCk7XG4gICAgICAkZ2FtZU92ZXIuZmFkZUluKCk7XG4gICAgICBjbGVhckxldHRlcnMoKTtcbiAgICB9XG4gIH1cblxuICBjb25zb2xlLmxvZygnTW92aWU6JywgY3VycmVudFRpdGxlKTtcblxuICBmdW5jdGlvbiBjb25ncmF0cygpIHtcbiAgICAkbGV0dGVycy5odG1sKCcnKTtcbiAgICAkcmVzdWx0Lmh0bWwoJ05pY2UuIDxicj5PbiB0byB0aGUgbmV4dCBvbmUuJyk7XG5cbiAgfVxuICBmdW5jdGlvbiBjbGVhckxldHRlcnMoKSB7XG4gICAgJGxldHRlcnMuaHRtbCgnJyk7XG4gICAgJHJlc3VsdC5odG1sKCcnKTtcbiAgfVxuXG5cbiAgLy8gc2h1ZmZsZSBmdW5jdGlvblxuICBTdHJpbmcucHJvdG90eXBlLnNodWZmbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEgPSB0aGlzLnNwbGl0KCcnKSxcbiAgICAgIG4gPSBhLmxlbmd0aDtcblxuICAgIGZvcih2YXIgaSA9IG4gLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICB2YXIgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgdmFyIHRtcCA9IGFbaV07XG4gICAgICBhW2ldID0gYVtqXTtcbiAgICAgIGFbal0gPSB0bXA7XG4gICAgfVxuICAgIHJldHVybiBhLmpvaW4oJycpO1xuICB9O1xuXG5cbiAgLy8gc2h1ZmZsZWQgd29yZCBhbmQgcGxhY2UgaW4gbGV0dGVyc1xuICBmdW5jdGlvbiBkaXNwbGF5V29yZCgpe1xuICAgIGNvbnN0IHNodWZmbGVkV29yZCA9IGN1cnJlbnRUaXRsZS50aXRsZS5zaHVmZmxlKCk7XG4gICAgJGxldHRlcnMuZW1wdHkoKTtcbiAgICAvLyBjb25zb2xlLmxvZygnc2h1ZmZsZWQgd29yZCcsIHNodWZmbGVkV29yZCk7XG4gICAgZm9yIChsZXQgaT0wOyBpIDwgc2h1ZmZsZWRXb3JkLmxlbmd0aDsgaSsrICkge1xuICAgICAgJGxldHRlcnMuYXBwZW5kKGA8bGkgZGF0YS1pbmRleD0ke2l9PiR7c2h1ZmZsZWRXb3JkW2ldfTwvbGk+YCk7XG4gICAgfVxuICAgIHByb2dyZXNzKDMwLCAzMCwgJCgnI3Byb2dyZXNzQmFyJykpO1xuXG4gICAgLy8gaW1hZ2UgY2hhbmdlIHdoZW4gbW92aWUgdGl0bGUgY2hhbmdlc1xuICAgICQoJyNtb3ZpZV9waWN0dXJlJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgYHVybChwdWJsaWMvYXNzZXRzLyR7Y3VycmVudFRpdGxlLmltYWdlfSlgKTtcbiAgICAvLyBhdWRpbyBjaGFuZ2Ugd2hlbiBtb3ZpZSB0aXRsZSBjaGFuZ2VzXG4gICAgYXVkaW8uc3JjID0gYHB1YmxpYy9hc3NldHMvJHtjdXJyZW50VGl0bGUuYXVkaW99Lm1wM2A7XG4gICAgYXVkaW8ubG9vcCA9IHRydWU7XG4gICAgYXVkaW8ucGxheSgpO1xuICAgIC8vIC8vIGhpbnQgY2hhbmdlcyB3aGVuIG1vdmllIHRpdGxlIGNoYW5nZXNcbiAgICAvLyAkKCcjZHJvcGRvd25IaW50JykuaHRtbDtcbiAgICAkaGludC50ZXh0KGN1cnJlbnRUaXRsZS5oaW50KTtcbiAgfVxuXG4gIC8vIHN0YXJ0IG9uIHdlbGNvbWUgc2NyZWVuLiBjbGljayBidXR0b24gdG8gaGlkZSB3ZWxjb21lIHBhZ2UgYW5kIHJ1biBnYW1lXG4gIGZ1bmN0aW9uIGhpZGVXZWxjb21lKCkge1xuICAgICQoJy53ZWxjb21lJykuZmFkZU91dCgpO1xuICAgIGRpc3BsYXlXb3JkKCk7XG4gIH1cbiAgJCgnI3dlbGNvbWVCdG4nKS5vbignY2xpY2snLCBoaWRlV2VsY29tZSk7XG5cbiAgLy9yZXN0YXJ0IGdhbWVcbiAgZnVuY3Rpb24gcmVzdGFydEdhbWUoKXtcbiAgICAkZ2FtZU92ZXIuaGlkZSgpO1xuICAgICR3aW5HYW1lLmhpZGUoKTtcbiAgICAkcnVuR2FtZS5zaG93KCk7XG4gICAgJHdpbkdhbWUuaGlkZSgpO1xuICAgIGN1cnJlbnRJbmRleCA9IDA7XG4gICAgY3VycmVudFRpdGxlID0gbW92aWVUaXRsZXNbY3VycmVudEluZGV4XTtcbiAgICBkaXNwbGF5V29yZCgpO1xuICB9XG4gICQoJyNyZXN0YXJ0QnRuJykub24oJ2NsaWNrJywgcmVzdGFydEdhbWUpO1xuXG4gIC8vIGhpZGluZyBsZXR0ZXJzIHdoZW4gY2xpY2tlZCBpbiB0aGUgbGV0dGVyc19saXN0IGFuZCBzaG93IGluIHJlc3VsdF9saXN0XG4gICRsZXR0ZXJzLm9uKCdjbGljaycsJ2xpJywgKGUpID0+IHtcbiAgICAkKGUudGFyZ2V0KS5oaWRlKCk7XG4gICAgY29uc3QgbGV0dGVyID0gJChlLnRhcmdldCkudGV4dCgpO1xuICAgIGNvbnN0IGluZGV4ID0gJChlLnRhcmdldCkuZGF0YSgnaW5kZXgnKTtcbiAgICBjb25zb2xlLmxvZyhsZXR0ZXIpO1xuICAgICRyZXN1bHQuYXBwZW5kKGA8bGkgZGF0YS1pbmRleD0ke2luZGV4fT4ke2xldHRlcn08L2xpPmApO1xuICAgIGlmICgkcmVzdWx0LnRleHQoKSA9PT0gY3VycmVudFRpdGxlLnRpdGxlKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICBhdWRpby5zcmMgPSBgcHVibGljL2Fzc2V0cy9jb3JyZWN0Lm1wM2A7XG4gICAgICBhdWRpby5sb29wID0gZmFsc2U7XG4gICAgICBhdWRpby5wbGF5KCk7XG4gICAgICBjb25ncmF0cygpO1xuXG5cbiAgICAgIGlmIChjdXJyZW50SW5kZXggPCBtb3ZpZVRpdGxlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgICAgICBjdXJyZW50VGl0bGUgPSBtb3ZpZVRpdGxlc1tjdXJyZW50SW5kZXhdO1xuICAgICAgICBjbGVhckxldHRlcnMoKTtcbiAgICAgICAgc2V0VGltZW91dChkaXNwbGF5V29yZCwgMTgwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBnYW1lIG92ZXIgbG9naWNcbiAgICAgICAgJHJ1bkdhbWUuaGlkZSgpO1xuICAgICAgICAkd2luR2FtZS5zaG93KCk7XG4gICAgICAgICQoJyNyZXN0YXJ0QnRuMicpLm9uKCdjbGljaycsIHJlc3RhcnRHYW1lKTtcblxuICAgICAgfVxuICAgIH1cblxuXG4gIH0pO1xuXG4gIC8vIGhpZGluZyBsZXR0ZXJzIHdoZW4gY2xpY2tlZCBpbiByZXN1bHRfbGlzdCBhbmQgc2hvdyBpbiBsZXR0ZXJzX2xpc3RcbiAgJHJlc3VsdC5vbignY2xpY2snLCAnbGknLCAoZSkgPT4ge1xuICAgIGNvbnN0IGRhdGFJbmRleCA9ICQoZS50YXJnZXQpLmRhdGEoJ2luZGV4Jyk7XG4gICAgJGxldHRlcnMuY2hpbGRyZW4oKS5maWx0ZXIoKGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gaW5kZXggPT09IGRhdGFJbmRleDtcbiAgICB9KS5zaG93KCk7XG4gICAgJChlLnRhcmdldCkucmVtb3ZlKCk7XG5cbiAgICAvLyB1c2UgdGhlIGRhdGEgaW5kZXggdG8gZGlzcGxheSB0aGUgcGFydGljdWxhciBMSVxuICAgIC8vIGRpc3BsYXkgbm9uZSB0aGUgTEkgd2UganVzdCBjbGlja2VkIHRvIG1vdmUgYmFjayBkb3duXG4gICAgY29uc29sZS5sb2coJChlLnRhcmdldCkpO1xuICB9KTtcbn0pO1xuXG5cblxuLy9BY3Rpb24gIFBsYW46XG4vLyBDcmVhdGUgYmFzaWMgbGF5b3V0IGNvbnRhaW5pbmcgMTIgZGl2cy4gMSBtYWluIGNvbnRhaW5lci4gMSBoZWFkZXIgY29udGFpbmluZyAzIGhlYWRlcnMgZm9yIGxvZ28sIHRpbWVyIGFuZCBzY29yZS4gMSAndG9wJyBkaXYgY29udGFpbmluZyAzIGRpdnMgZm9yIG1vdmllIHBpY3R1cmUsIG1vdmllIHRpdGxlIHJlc3VsdCwgZ2FtZSBvcHRpb25zLiAxICdib3R0b20nIGRpdiBjb250YWluaW5nIGEgbGV0dGVycyBkaXYgd2l0aCBhbiB1bm9yZGVyZWQgbGV0dGVycyBsaXN0IHdpdGhpbi5cblxuLy8gV29yayBvbiB0aGUgc2h1ZmZsZSBmdW5jdGlvbiBhbmQgZmlndXJlIG91dCBob3cgdG8gbWFrZSBlYWNoIHNodWZmbGVkIGxldHRlciBjbGlja2FibGUgYXMgd2VsbCBhcyBtYWtlIGl0IGRpc3NhcGVhciBhbmQgc2hvdyBpbiB0aGUgJ21vdmllIHRpdGxlJyBkaXYuIFRoZSBsZXR0ZXJzIHdpbGwgYmUgcGxhY2VkIGluIG9yZGVyIG9mIGNsaWNrcyBhbmQgYW5zd2VyIGlzIG9ubHkgY29ycmVjdCB3aGVuIGxldHRlcnMgYXJlIGluIHRoZSByaWdodCBvcmRlci4gVXNlIHRoZSBzcGxpdGVkIGFycmF5IHdpdGggYSBmb3JFYWNoIHN0YXRlbWVudCB3aGVuIGNyZWF0aW5nIHRoZSBib3hlcy5cblxuLy8gY2hhbmdlIG1vdmllIHRpdGxlIC0gZG9uZVxuLy8gY2xlYXIgZXhpc3RpbmcgbGV0dGVyc19saXN0IC0gZG9uZVxuLy8gc2h1ZmZsZSB0aGUgd29yZCAtIGRvbmVcbi8vIGRpc3BsYXkgc2h1ZmZsZWQgbGV0dGVycyAtIGRvbmVcbi8vIGRpc3BsYXkgY29ycmVjdCBpbWFnZSBhbmQgY2hhbmdlIGZvciB0aXRsZSAtIGRvbmVcbi8vIHBsYXkgY29ycmVjdCBhdWRpbyBhbmQgY2hhbmdlIGZvciB0aXRsZSAtIGRvbmVcbi8vIGdpdmUgaGludCB2YWx1ZSBpbiBlYWNoIG9iamVjdCBhbmQgY2hhbmdlIGVhY2ggdGl0bGUgLVxuXG4vL1RpcHM6XG4vL01pa2U6IFNwbGl0IGZpbG0sIGNyZWF0ZSBhIGZvciBsb29wIGFuZCBhcHBlbmQgdG8gRE9NLlxuXG4vL1N0YWNrb3ZlcmZsb3c6IFlvdSBkb24ndCBuZWVkIHRvIGhpZGUgdGhlIGxldHRlcnMsIHVzZSBkYXRhLWF0dHJpYnV0ZXMgdG8gaWRlbnRpZnkgdGhlIHJpZ2h0IHBvc2l0aW9uIG9mIHRoZW0gaW4gdGhlIE1vdmllIFRpdGxlIGNvbnRhaW5lciBhbmQgYXBwZW5kIHRoYXQgaW4gdGhlIGVtcHR5IGJveGVzLiBUaGUgbGV0dGVycyB0aGF0IGRvZXNuJ3QgY29ycmVzcG9uZCB0byB0aGUgbW92aWUgdGl0bGUganVzdCBwdXQgd2l0aCBkYXRhLWF0dHJpYnV0ZXMgZW1wdHkgYW5kIHlvdXIgYWxnb3JpdGhtIHdpbGwgZmlsdGVyIHRoYXQgcHV0dGluZyBhIHJlZCBib3JkZXIgaW50byBzZWxlY3RlZCB3cm9uZyBsZXR0ZXIgYW5kIHN0dWZmO1xuIl19
