"use strict";$(function(){function e(t,a,o){clearTimeout(g);var n=t*o.width()/a;o.find("#bar").animate({width:n},500).html(t+"s"),t>0&&(g=setTimeout(function(){e(t-1,a,o)},1e3)),0===t&&(console.log(r),h.hide(),r.pause(),u.fadeIn(),i())}function t(){m.html(""),l.html("Nice. <br>On to the next one.")}function i(){m.html(""),l.html("")}function a(){var t=p.title.shuffle();m.empty();for(var i=0;i<t.length;i++)m.append("<li data-index="+i+">"+t[i]+"</li>");e(25,25,$("#progressBar")),$("#movie_picture").css("background-image","url(public/assets/"+p.image+")"),r.src="public/assets/"+p.audio+".mp3",r.loop=!0,r.play(),s.text(p.hint)}function o(){$(".welcome").fadeOut(),a()}function n(){u.hide(),h.show(),d=0,p=c[d],a()}console.log("Guess Movie Game");var r=$("audio")[0],l=$("#result_list"),m=$("#letters_list"),s=$("#dropdownHint"),u=$(".gameover"),h=$(".gameRunning"),c=[{title:"SCREAM",image:"scream.bmp",audio:"scream",hint:"What's your favourite Scary Movie?"},{title:"IRONMAN",image:"ironman.bmp",audio:"ironman",hint:"Heroes aren't born. They're built."},{title:"PREDATOR",image:"predator.bmp",audio:"predator",hint:"Soon the hunt will begin."},{title:"ROBOCOP",image:"robocop.bmp",audio:"robocop",hint:"Part man. Part machine. All cop."},{title:"GLADIATOR",image:"gladiator.bmp",audio:"gladiator",hint:"Father of a murdered son, husband to a murdered wife and I shall have my vengeance in this life or the next."},{title:"FRIDAY_THE_13TH",image:"fridaythe13th.bmp",audio:"fridaythe13th",hint:"Fridays will never be the same again."},{title:"V_FOR_VENDETTA",image:"vforvendetta.bmp",audio:"vforvendetta",hint:"Remember, remember the 5th of November."},{title:"PHANTOM_OF_THE_OPERA",image:"phantomoftheopera.bmp",audio:"phantomoftheopera"},{title:"BATMAN_VS_SUPERMAN",image:"batmanvssuperman.bmp",audio:"batmanvssuperman",hint:"BvS: Dawn of Justice"}],d=0,p=c[d],g=null;console.log("Movie:",p),String.prototype.shuffle=function(){for(var e=this.split(""),t=e.length,i=t-1;i>0;i--){var a=Math.floor(Math.random()*(i+1)),o=e[i];e[i]=e[a],e[a]=o}return e.join("")},$("#welcomeBtn").on("click",o),$("#restartBtn").on("click",n),m.on("click","li",function(e){$(e.target).hide();var o=$(e.target).text(),n=$(e.target).data("index");console.log(o),l.append("<li data-index="+n+">"+o+"</li>"),l.text()===p.title&&(clearTimeout(g),r.src="public/assets/correct.mp3",r.loop=!1,r.play(),t(),d<c.length-1&&(d++,p=c[d],i(),setTimeout(a,1800)))}),l.on("click","li",function(e){var t=$(e.target).data("index");m.children().filter(function(e){return e===t}).show(),$(e.target).remove(),console.log($(e.target))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwidGltZXJJZCIsInRpbWVsZWZ0IiwidGltZXRvdGFsIiwiJGVsZW1lbnQiLCJjbGVhclRpbWVvdXQiLCJwcm9ncmVzc0JhcldpZHRoIiwiYW5pbWF0ZSIsIndpZHRoIiwiaHRtbCIsImZpbmQiLCJjb25zb2xlIiwibG9nIiwiYXVkaW8iLCIkcnVuR2FtZSIsImhpZGUiLCIkbGV0dGVycyIsIiRyZXN1bHQiLCJjb25ncmF0cyIsImNsZWFyTGV0dGVycyIsInNodWZmbGVkV29yZCIsImN1cnJlbnRUaXRsZSIsInRpdGxlIiwic2h1ZmZsZSIsImVtcHR5IiwiYXBwZW5kIiwibGVuZ3RoIiwiaSIsInByb2dyZXNzIiwiY3NzIiwiaW1hZ2UiLCJsb29wIiwicGxheSIsIiRoaW50IiwidGV4dCIsImhpbnQiLCJoaWRlV2VsY29tZSIsImRpc3BsYXlXb3JkIiwiJGdhbWVPdmVyIiwic2hvdyIsImN1cnJlbnRJbmRleCIsIm1vdmllVGl0bGVzIiwiU3RyaW5nIiwicHJvdG90eXBlIiwiYSIsInRoaXMiLCJzcGxpdCIsIm4iLCJqIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG1wIiwiam9pbiIsIm9uIiwicmVzdGFydEdhbWUiLCJ0YXJnZXQiLCJlIiwibGV0dGVyIiwiaW5kZXgiLCJkYXRhIiwic2V0VGltZW91dCIsImNoaWxkcmVuIiwiZmlsdGVyIiwiZGF0YUluZGV4IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRSxXQTJEQSxRQUFJQyxHQUFKQyxFQUFBQyxFQUFBQyxHQUdFQyxhQUFhSixFQURmLElBQUFLLEdBQWtCSixFQUFVQyxFQUFXQyxRQUFVRCxDQUMvQ0UsR0FBQUEsS0FBYUosUUFBYk0sU0FBQUMsTUFBQUYsR0FBQSxLQUFBRyxLQUFBUCxFQUFBLEtBQ0FBLEVBQUlJLElBQ0pGLEVBQVNNLFdBQWFILFdBQ25CTCxFQUFBQSxFQUFjLEVBQUFDLEVBQUFDLElBQ2ZILE1BQUEsSUFBVUMsSUFHWFMs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VCxhQUFBWixHQUNBWSxFQUFNa0IsSUFBTmxCLDRCQUNBQSxFQUFNbUIsTUFBTixFQUNBZCxFQUFBQSxPQUFBQSxJQUtFRyxFQUFlb0IsRUFBWUQsT0FBQUEsSUFDM0JyQixJQUNBMEMsRUFBV3hCLEVBQWFHLEdBSjFCckIsSUFNRTBDLFdBQUF4QixFQUFBLFVBc0JKcEIsRUFBQXFDLEdBQUEsUUFBQSxLQUFBLFNBQUFHLEdBQ0E5QyxHQUFBQSxHQUFnQjZDLEVBQUFBLEVBQUpBLFFBQVpJLEtBQUEsUUFURjVDLEdBQUE4QyxXQUFBQyxPQUFBLFNBQUFKLEdBcExGLE1BQUFBLEtBQUFLLElBd0xPekIsT0FXUHZDLEVBQUF5RCxFQUFBRCxRQUFBUyxTQU5JdEQsUUFBUUMsSUFBSVosRUFBRXlELEVBQUVEIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBjb25zb2xlLmxvZygnR3Vlc3MgTW92aWUgR2FtZScpO1xuXG4gIGNvbnN0IGF1ZGlvID0gJCgnYXVkaW8nKVswXTtcbiAgY29uc3QgJHJlc3VsdCA9ICQoJyNyZXN1bHRfbGlzdCcpO1xuICBjb25zdCAkbGV0dGVycyA9ICQoJyNsZXR0ZXJzX2xpc3QnKTtcbiAgY29uc3QgJGhpbnQgPSAkKCcjZHJvcGRvd25IaW50Jyk7XG4gIGNvbnN0ICRnYW1lT3ZlciA9ICQoJy5nYW1lb3ZlcicpO1xuICBjb25zdCAkcnVuR2FtZSA9ICQoJy5nYW1lUnVubmluZycpO1xuICBjb25zdCBtb3ZpZVRpdGxlcyA9IFt7XG4gICAgdGl0bGU6ICdTQ1JFQU0nLFxuICAgIGltYWdlOiAnc2NyZWFtLmJtcCcsXG4gICAgYXVkaW86ICdzY3JlYW0nLFxuICAgIGhpbnQ6ICdXaGF0XFwncyB5b3VyIGZhdm91cml0ZSBTY2FyeSBNb3ZpZT8nXG5cbiAgfSwge1xuICAgIHRpdGxlOiAnSVJPTk1BTicsXG4gICAgaW1hZ2U6ICdpcm9ubWFuLmJtcCcsXG4gICAgYXVkaW86ICdpcm9ubWFuJyxcbiAgICBoaW50OiAnSGVyb2VzIGFyZW5cXCd0IGJvcm4uIFRoZXlcXCdyZSBidWlsdC4nXG5cbiAgfSwge1xuICAgIHRpdGxlOiAnUFJFREFUT1InLFxuICAgIGltYWdlOiAncHJlZGF0b3IuYm1wJyxcbiAgICBhdWRpbzogJ3ByZWRhdG9yJyxcbiAgICBoaW50OiAnU29vbiB0aGUgaHVudCB3aWxsIGJlZ2luLidcbiAgfSwge1xuICAgIHRpdGxlOiAnUk9CT0NPUCcsXG4gICAgaW1hZ2U6ICdyb2JvY29wLmJtcCcsXG4gICAgYXVkaW86ICdyb2JvY29wJyxcbiAgICBoaW50OiAnUGFydCBtYW4uIFBhcnQgbWFjaGluZS4gQWxsIGNvcC4nXG4gIH0sIHtcbiAgICB0aXRsZTogJ0dMQURJQVRPUicsXG4gICAgaW1hZ2U6ICdnbGFkaWF0b3IuYm1wJyxcbiAgICBhdWRpbzogJ2dsYWRpYXRvcicsXG4gICAgaGludDogJ0ZhdGhlciBvZiBhIG11cmRlcmVkIHNvbiwgaHVzYmFuZCB0byBhIG11cmRlcmVkIHdpZmUgYW5kIEkgc2hhbGwgaGF2ZSBteSB2ZW5nZWFuY2UgaW4gdGhpcyBsaWZlIG9yIHRoZSBuZXh0LidcbiAgfSwge1xuICAgIHRpdGxlOiAnRlJJREFZX1RIRV8xM1RIJyxcbiAgICBpbWFnZTogJ2ZyaWRheXRoZTEzdGguYm1wJyxcbiAgICBhdWRpbzogJ2ZyaWRheXRoZTEzdGgnLFxuICAgIGhpbnQ6ICdGcmlkYXlzIHdpbGwgbmV2ZXIgYmUgdGhlIHNhbWUgYWdhaW4uJ1xuICB9LCB7XG4gICAgdGl0bGU6ICdWX0ZPUl9WRU5ERVRUQScsXG4gICAgaW1hZ2U6ICd2Zm9ydmVuZGV0dGEuYm1wJyxcbiAgICBhdWRpbzogJ3Zmb3J2ZW5kZXR0YScsXG4gICAgaGludDogJ1JlbWVtYmVyLCByZW1lbWJlciB0aGUgNXRoIG9mIE5vdmVtYmVyLidcbiAgfSwge1xuICAgIHRpdGxlOiAnUEhBTlRPTV9PRl9USEVfT1BFUkEnLFxuICAgIGltYWdlOiAncGhhbnRvbW9mdGhlb3BlcmEuYm1wJyxcbiAgICBhdWRpbzogJ3BoYW50b21vZnRoZW9wZXJhJ1xuICB9LCB7XG4gICAgdGl0bGU6ICdCQVRNQU5fVlNfU1VQRVJNQU4nLFxuICAgIGltYWdlOiAnYmF0bWFudnNzdXBlcm1hbi5ibXAnLFxuICAgIGF1ZGlvOiAnYmF0bWFudnNzdXBlcm1hbicsXG4gICAgaGludDogJ0J2UzogRGF3biBvZiBKdXN0aWNlJ1xuICB9XTtcblxuICBsZXQgY3VycmVudEluZGV4ID0gMDtcbiAgbGV0IGN1cnJlbnRUaXRsZSA9IG1vdmllVGl0bGVzW2N1cnJlbnRJbmRleF07XG4gIGxldCB0aW1lcklkID0gbnVsbDtcblxuICBmdW5jdGlvbiBwcm9ncmVzcyh0aW1lbGVmdCwgdGltZXRvdGFsLCAkZWxlbWVudCkge1xuICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICB2YXIgcHJvZ3Jlc3NCYXJXaWR0aCA9IHRpbWVsZWZ0ICogJGVsZW1lbnQud2lkdGgoKSAvIHRpbWV0b3RhbDtcbiAgICAkZWxlbWVudC5maW5kKCcjYmFyJykuYW5pbWF0ZSh7IHdpZHRoOiBwcm9ncmVzc0JhcldpZHRoIH0sIDUwMCkuaHRtbCh0aW1lbGVmdCArICdzJyk7XG4gICAgaWYodGltZWxlZnQgPiAwKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgcHJvZ3Jlc3ModGltZWxlZnQgLSAxLCB0aW1ldG90YWwsICRlbGVtZW50KTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgICBpZih0aW1lbGVmdCA9PT0gMCl7XG4gICAgICBjb25zb2xlLmxvZyhhdWRpbyk7XG4gICAgICAkcnVuR2FtZS5oaWRlKCk7XG4gICAgICBhdWRpby5wYXVzZSgpO1xuICAgICAgJGdhbWVPdmVyLmZhZGVJbigpO1xuICAgICAgY2xlYXJMZXR0ZXJzKCk7XG4gICAgfVxuICB9XG5cbiAgY29uc29sZS5sb2coJ01vdmllOicsIGN1cnJlbnRUaXRsZSk7XG5cbiAgZnVuY3Rpb24gY29uZ3JhdHMoKSB7XG4gICAgJGxldHRlcnMuaHRtbCgnJyk7XG4gICAgJHJlc3VsdC5odG1sKCdOaWNlLiA8YnI+T24gdG8gdGhlIG5leHQgb25lLicpO1xuXG4gIH1cbiAgZnVuY3Rpb24gY2xlYXJMZXR0ZXJzKCkge1xuICAgICRsZXR0ZXJzLmh0bWwoJycpO1xuICAgICRyZXN1bHQuaHRtbCgnJyk7XG4gIH1cblxuXG4gIC8vIHNodWZmbGUgZnVuY3Rpb25cbiAgU3RyaW5nLnByb3RvdHlwZS5zaHVmZmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhID0gdGhpcy5zcGxpdCgnJyksXG4gICAgICBuID0gYS5sZW5ndGg7XG5cbiAgICBmb3IodmFyIGkgPSBuIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgdmFyIGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgIHZhciB0bXAgPSBhW2ldO1xuICAgICAgYVtpXSA9IGFbal07XG4gICAgICBhW2pdID0gdG1wO1xuICAgIH1cbiAgICByZXR1cm4gYS5qb2luKCcnKTtcbiAgfTtcblxuXG4gIC8vIHNodWZmbGVkIHdvcmQgYW5kIHBsYWNlIGluIGxldHRlcnNcbiAgZnVuY3Rpb24gZGlzcGxheVdvcmQoKXtcbiAgICBjb25zdCBzaHVmZmxlZFdvcmQgPSBjdXJyZW50VGl0bGUudGl0bGUuc2h1ZmZsZSgpO1xuICAgICRsZXR0ZXJzLmVtcHR5KCk7XG4gICAgLy8gY29uc29sZS5sb2coJ3NodWZmbGVkIHdvcmQnLCBzaHVmZmxlZFdvcmQpO1xuICAgIGZvciAobGV0IGk9MDsgaSA8IHNodWZmbGVkV29yZC5sZW5ndGg7IGkrKyApIHtcbiAgICAgICRsZXR0ZXJzLmFwcGVuZChgPGxpIGRhdGEtaW5kZXg9JHtpfT4ke3NodWZmbGVkV29yZFtpXX08L2xpPmApO1xuICAgIH1cbiAgICBwcm9ncmVzcygyNSwgMjUsICQoJyNwcm9ncmVzc0JhcicpKTtcblxuICAgIC8vIGltYWdlIGNoYW5nZSB3aGVuIG1vdmllIHRpdGxlIGNoYW5nZXNcbiAgICAkKCcjbW92aWVfcGljdHVyZScpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsIGB1cmwocHVibGljL2Fzc2V0cy8ke2N1cnJlbnRUaXRsZS5pbWFnZX0pYCk7XG4gICAgLy8gYXVkaW8gY2hhbmdlIHdoZW4gbW92aWUgdGl0bGUgY2hhbmdlc1xuICAgIGF1ZGlvLnNyYyA9IGBwdWJsaWMvYXNzZXRzLyR7Y3VycmVudFRpdGxlLmF1ZGlvfS5tcDNgO1xuICAgIGF1ZGlvLmxvb3AgPSB0cnVlO1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgICAvLyAvLyBoaW50IGNoYW5nZXMgd2hlbiBtb3ZpZSB0aXRsZSBjaGFuZ2VzXG4gICAgLy8gJCgnI2Ryb3Bkb3duSGludCcpLmh0bWw7XG4gICAgJGhpbnQudGV4dChjdXJyZW50VGl0bGUuaGludCk7XG4gIH1cblxuLy8gc3RhcnQgb24gd2VsY29tZSBzY3JlZW4uIGNsaWNrIGJ1dHRvbiB0byBoaWRlIHdlbGNvbWUgcGFnZSBhbmQgcnVuIGdhbWVcbiAgZnVuY3Rpb24gaGlkZVdlbGNvbWUoKSB7XG4gICAgJCgnLndlbGNvbWUnKS5mYWRlT3V0KCk7XG4gICAgZGlzcGxheVdvcmQoKTtcbiAgfVxuICAkKCcjd2VsY29tZUJ0bicpLm9uKCdjbGljaycsIGhpZGVXZWxjb21lKTtcblxuICAvL3Jlc3RhcnQgZ2FtZVxuICBmdW5jdGlvbiByZXN0YXJ0R2FtZSgpe1xuICAgICRnYW1lT3Zlci5oaWRlKCk7XG4gICAgJHJ1bkdhbWUuc2hvdygpO1xuICAgIGN1cnJlbnRJbmRleCA9IDA7XG4gICAgY3VycmVudFRpdGxlID0gbW92aWVUaXRsZXNbY3VycmVudEluZGV4XTtcbiAgICBkaXNwbGF5V29yZCgpO1xuICB9XG4gICQoJyNyZXN0YXJ0QnRuJykub24oJ2NsaWNrJywgcmVzdGFydEdhbWUpO1xuXG4gIC8vIGhpZGluZyBsZXR0ZXJzIHdoZW4gY2xpY2tlZCBpbiB0aGUgbGV0dGVyc19saXN0IGFuZCBzaG93IGluIHJlc3VsdF9saXN0XG4gICRsZXR0ZXJzLm9uKCdjbGljaycsJ2xpJywgKGUpID0+IHtcbiAgICAkKGUudGFyZ2V0KS5oaWRlKCk7XG4gICAgY29uc3QgbGV0dGVyID0gJChlLnRhcmdldCkudGV4dCgpO1xuICAgIGNvbnN0IGluZGV4ID0gJChlLnRhcmdldCkuZGF0YSgnaW5kZXgnKTtcbiAgICBjb25zb2xlLmxvZyhsZXR0ZXIpO1xuICAgICRyZXN1bHQuYXBwZW5kKGA8bGkgZGF0YS1pbmRleD0ke2luZGV4fT4ke2xldHRlcn08L2xpPmApO1xuICAgIGlmICgkcmVzdWx0LnRleHQoKSA9PT0gY3VycmVudFRpdGxlLnRpdGxlKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICBhdWRpby5zcmMgPSBgcHVibGljL2Fzc2V0cy9jb3JyZWN0Lm1wM2A7XG4gICAgICBhdWRpby5sb29wID0gZmFsc2U7XG4gICAgICBhdWRpby5wbGF5KCk7XG4gICAgICBjb25ncmF0cygpO1xuXG5cbiAgICAgIGlmIChjdXJyZW50SW5kZXggPCBtb3ZpZVRpdGxlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgICAgICBjdXJyZW50VGl0bGUgPSBtb3ZpZVRpdGxlc1tjdXJyZW50SW5kZXhdO1xuICAgICAgICBjbGVhckxldHRlcnMoKTtcbiAgICAgICAgc2V0VGltZW91dChkaXNwbGF5V29yZCwgMTgwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBnYW1lIG92ZXIgbG9naWNcblxuICAgICAgfVxuXG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKGNsZWFyTGV0dGVycygpKTtcbiAgICAgIC8vIHJldHVybiBjdXJyZW50VGl0bGUuZGlzcGxheVdvcmRcblxuICAgIH1cblxuXG4gIH0pO1xuXG4gIC8vIGhpZGluZyBsZXR0ZXJzIHdoZW4gY2xpY2tlZCBpbiByZXN1bHRfbGlzdCBhbmQgc2hvdyBpbiBsZXR0ZXJzX2xpc3RcbiAgJHJlc3VsdC5vbignY2xpY2snLCAnbGknLCAoZSkgPT4ge1xuICAgIGNvbnN0IGRhdGFJbmRleCA9ICQoZS50YXJnZXQpLmRhdGEoJ2luZGV4Jyk7XG4gICAgJGxldHRlcnMuY2hpbGRyZW4oKS5maWx0ZXIoKGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gaW5kZXggPT09IGRhdGFJbmRleDtcbiAgICB9KS5zaG93KCk7XG4gICAgJChlLnRhcmdldCkucmVtb3ZlKCk7XG5cbiAgICAvLyB1c2UgdGhlIGRhdGEgaW5kZXggdG8gZGlzcGxheSB0aGUgcGFydGljdWxhciBMSVxuICAgIC8vIGRpc3BsYXkgbm9uZSB0aGUgTEkgd2UganVzdCBjbGlja2VkIHRvIG1vdmUgYmFjayBkb3duXG4gICAgY29uc29sZS5sb2coJChlLnRhcmdldCkpO1xuICB9KTtcbn0pO1xuXG5cblxuLy9BY3Rpb24gIFBsYW46XG4vLyBDcmVhdGUgYmFzaWMgbGF5b3V0IGNvbnRhaW5pbmcgMTIgZGl2cy4gMSBtYWluIGNvbnRhaW5lci4gMSBoZWFkZXIgY29udGFpbmluZyAzIGhlYWRlcnMgZm9yIGxvZ28sIHRpbWVyIGFuZCBzY29yZS4gMSAndG9wJyBkaXYgY29udGFpbmluZyAzIGRpdnMgZm9yIG1vdmllIHBpY3R1cmUsIG1vdmllIHRpdGxlIHJlc3VsdCwgZ2FtZSBvcHRpb25zLiAxICdib3R0b20nIGRpdiBjb250YWluaW5nIGEgbGV0dGVycyBkaXYgd2l0aCBhbiB1bm9yZGVyZWQgbGV0dGVycyBsaXN0IHdpdGhpbi5cblxuLy8gV29yayBvbiB0aGUgc2h1ZmZsZSBmdW5jdGlvbiBhbmQgZmlndXJlIG91dCBob3cgdG8gbWFrZSBlYWNoIHNodWZmbGVkIGxldHRlciBjbGlja2FibGUgYXMgd2VsbCBhcyBtYWtlIGl0IGRpc3NhcGVhciBhbmQgc2hvdyBpbiB0aGUgJ21vdmllIHRpdGxlJyBkaXYuIFRoZSBsZXR0ZXJzIHdpbGwgYmUgcGxhY2VkIGluIG9yZGVyIG9mIGNsaWNrcyBhbmQgYW5zd2VyIGlzIG9ubHkgY29ycmVjdCB3aGVuIGxldHRlcnMgYXJlIGluIHRoZSByaWdodCBvcmRlci4gVXNlIHRoZSBzcGxpdGVkIGFycmF5IHdpdGggYSBmb3JFYWNoIHN0YXRlbWVudCB3aGVuIGNyZWF0aW5nIHRoZSBib3hlcy5cblxuLy8gY2hhbmdlIG1vdmllIHRpdGxlIC0gZG9uZVxuLy8gY2xlYXIgZXhpc3RpbmcgbGV0dGVyc19saXN0IC0gZG9uZVxuLy8gc2h1ZmZsZSB0aGUgd29yZCAtIGRvbmVcbi8vIGRpc3BsYXkgc2h1ZmZsZWQgbGV0dGVycyAtIGRvbmVcbi8vIGRpc3BsYXkgY29ycmVjdCBpbWFnZSBhbmQgY2hhbmdlIGZvciB0aXRsZSAtIGRvbmVcbi8vIHBsYXkgY29ycmVjdCBhdWRpbyBhbmQgY2hhbmdlIGZvciB0aXRsZSAtIGRvbmVcbi8vIGdpdmUgaGludCB2YWx1ZSBpbiBlYWNoIG9iamVjdCBhbmQgY2hhbmdlIGVhY2ggdGl0bGUgLVxuXG4vL1RpcHM6XG4vL01pa2U6IFNwbGl0IGZpbG0sIGNyZWF0ZSBhIGZvciBsb29wIGFuZCBhcHBlbmQgdG8gRE9NLlxuXG4vL1N0YWNrb3ZlcmZsb3c6IFlvdSBkb24ndCBuZWVkIHRvIGhpZGUgdGhlIGxldHRlcnMsIHVzZSBkYXRhLWF0dHJpYnV0ZXMgdG8gaWRlbnRpZnkgdGhlIHJpZ2h0IHBvc2l0aW9uIG9mIHRoZW0gaW4gdGhlIE1vdmllIFRpdGxlIGNvbnRhaW5lciBhbmQgYXBwZW5kIHRoYXQgaW4gdGhlIGVtcHR5IGJveGVzLiBUaGUgbGV0dGVycyB0aGF0IGRvZXNuJ3QgY29ycmVzcG9uZCB0byB0aGUgbW92aWUgdGl0bGUganVzdCBwdXQgd2l0aCBkYXRhLWF0dHJpYnV0ZXMgZW1wdHkgYW5kIHlvdXIgYWxnb3JpdGhtIHdpbGwgZmlsdGVyIHRoYXQgcHV0dGluZyBhIHJlZCBib3JkZXIgaW50byBzZWxlY3RlZCB3cm9uZyBsZXR0ZXIgYW5kIHN0dWZmO1xuIl19
