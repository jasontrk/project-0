"use strict";$(function(){function e(){$(".welcome").fadeOut(),t()}function t(){function e(t,i,a){clearTimeout(o);var n=t*a.width()/i;a.find("#bar").animate({width:n},500).html(t+"s"),t>0&&(o=setTimeout(function(){e(t-1,i,a)},1e3)),0===t&&($(".gameRunning").hide(),$(".gameover").fadeIn())}function t(){l.html(""),r.html("Nice. <br>On to the next one.")}function i(){l.html(""),r.html(""),a()}function a(){var t=s.title.shuffle();l.empty();for(var i=0;i<t.length;i++)l.append("<li data-index="+i+">"+t[i]+"</li>");e(10,10,$("#progressBar")),$("#movie_picture").css("background-image","url(public/assets/"+s.image+")"),n.src="public/assets/"+s.audio+".mp3",n.loop=!0,n.play(),m.text(s.hint)}var o=null,n=$("audio")[0],r=$("#result_list"),l=$("#letters_list"),m=$("#dropdownHint"),u=[{title:"SCREAM",image:"scream.bmp",audio:"scream",hint:"What's your favourite Scary Movie?"},{title:"IRONMAN",image:"ironman.bmp",audio:"ironman",hint:"Heroes aren't born. They're built."},{title:"PREDATOR",image:"predator.bmp",audio:"predator",hint:"Soon the hunt will begin."},{title:"ROBOCOP",image:"robocop.bmp",audio:"robocop",hint:"Part man. Part machine. All cop."},{title:"BATMAN_VS_SUPERMAN",image:"batmanvssuperman.bmp",audio:"batmanvssuperman",hint:"Dawn of Justice"},{title:"GLADIATOR",image:"gladiator.bmp",audio:"gladiator",hint:"Father of a murdered son, husband to a murdered wife and I shall have my vengeance in this life or the next."},{title:"FRIDAY_THE_13TH",image:"fridaythe13th.bmp",audio:"fridaythe13th",hint:"Fridays will never be the same again."},{title:"V_FOR_VENDETTA",image:"vforvendetta.bmp",audio:"vforvendetta",hint:"Remember, remember the 5th of November."},{title:"PHANTOM_OF_THE_OPERA",image:"phantomoftheopera.bmp",audio:"phantomoftheopera"}],h=0,s=u[h];console.log("Movie:",s),String.prototype.shuffle=function(){for(var e=this.split(""),t=e.length,i=t-1;i>0;i--){var a=Math.floor(Math.random()*(i+1)),o=e[i];e[i]=e[a],e[a]=o}return e.join("")},a(),l.on("click","li",function(e){$(e.target).hide();var a=$(e.target).text(),l=$(e.target).data("index");console.log(a),r.append("<li data-index="+l+">"+a+"</li>"),r.text()===s.title&&(clearTimeout(o),n.src="public/assets/correct.mp3",n.loop=!1,n.play(),t(),h<u.length-1&&(h++,s=u[h],setTimeout(i,1800)))}),r.on("click","li",function(e){var t=$(e.target).data("index");l.children().filter(function(e){return e===t}).show(),$(e.target).remove(),console.log($(e.target))})}console.log("Guess Movie Game"),$("#welcomeBtn").on("click",e),$("#restartBtn").on("click",t)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiaGlkZVdlbGNvbWUiLCJydW5HYW1lIiwiY2xlYXJUaW1lb3V0IiwidGltZXJJZCIsInRpbWV0b3RhbCIsIiRlbGVtZW50IiwicHJvZ3Jlc3NCYXJXaWR0aCIsImFuaW1hdGUiLCJ3aWR0aCIsInRpbWVsZWZ0IiwiaHRtbCIsInNldFRpbWVvdXQiLCJwcm9ncmVzcyIsImZhZGVJbiIsImNvbmdyYXRzIiwiJGxldHRlcnMiLCJjbGVhckxldHRlcnMiLCIkcmVzdWx0IiwiU3RyaW5nIiwic2h1ZmZsZWRXb3JkIiwiY3VycmVudFRpdGxlIiwidGl0bGUiLCJzaHVmZmxlIiwiZW1wdHkiLCJpIiwibGVuZ3RoIiwiYXBwZW5kIiwiYXVkaW8iLCJjc3MiLCJpbWFnZSIsIiRoaW50IiwidGV4dCIsImxvb3AiLCJwbGF5IiwiaGludCIsIm1vdmllVGl0bGVzIiwiY3VycmVudEluZGV4IiwicHJvdG90eXBlIiwibiIsImEiLCJqIiwiTWF0aCIsImZsb29yIiwidG1wIiwicmFuZG9tIiwiam9pbiIsImRpc3BsYXlXb3JkIiwiY29uc29sZSIsImUiLCJoaWRlIiwidGFyZ2V0IiwiZGF0YSIsImluZGV4IiwibGV0dGVyIiwib24iLCJkYXRhSW5kZXgiLCJjaGlsZHJlbiIsImZpbHRlciIsInNob3ciLCJyZW1vdmUiLCJsb2ciXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBSUEsUUFBU0MsS0FBVEQsRUFBQSxZQUFTQyxVQUNQRCxJQVNGLFFBQVNFLEtBS0xDLFFBQUFBLEdBQWFDLEVBQWJDLEVBQUFDLEdBQ0FILGFBQUlJLEVBQ0pELElBQUFBLEdBQXNCRSxFQUFVQyxFQUFPRixRQUFBQSxDQUN2Q0QsR0FBR0ksS0FBQUEsUUFBY0YsU0FBQUMsTUFBQUYsR0FBQSxLQUFBSSxLQUFBRCxFQUFBLEtBQ2ZOLEVBQVVRLElBQ1JDLEVBQUFBLFdBQVNILFdBRERHLEVBQVZILEVBQUEsRUFBQUwsRUFBQUMsSUFHRCxNQUVHLElBQUZOLElB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LEtBQUFHLElBak1IRyxPQW9MTTNELEVBQUVpRCxFQUFFRSxRQUFRUyxTQXFCbEJaLFFBQUFhLElBQUE3RCxFQUFBaUQsRUFBQUUsV0F4TUVILFFBQVFhLElBQUksb0JBUVo3RCxFQUFFLGVBQWV1RCxHQUFHLFFBQVN0RCxHQUE3QkQsRUFBRSxlQUFldUQsR0FBRyxRQUFTdEQiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdHdWVzcyBNb3ZpZSBHYW1lJyk7XG5cblxuICBmdW5jdGlvbiBoaWRlV2VsY29tZSgpIHtcbiAgICAkKCcud2VsY29tZScpLmZhZGVPdXQoKTtcbiAgICBydW5HYW1lKCk7XG4gIH1cblxuICAkKCcjd2VsY29tZUJ0bicpLm9uKCdjbGljaycsIGhpZGVXZWxjb21lKTtcbiAgJCgnI3Jlc3RhcnRCdG4nKS5vbignY2xpY2snLCBydW5HYW1lKTtcblxuXG5cbiAgZnVuY3Rpb24gcnVuR2FtZSgpIHtcblxuICAgIGxldCB0aW1lcklkID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIHByb2dyZXNzKHRpbWVsZWZ0LCB0aW1ldG90YWwsICRlbGVtZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICB2YXIgcHJvZ3Jlc3NCYXJXaWR0aCA9IHRpbWVsZWZ0ICogJGVsZW1lbnQud2lkdGgoKSAvIHRpbWV0b3RhbDtcbiAgICAgICRlbGVtZW50LmZpbmQoJyNiYXInKS5hbmltYXRlKHsgd2lkdGg6IHByb2dyZXNzQmFyV2lkdGggfSwgNTAwKS5odG1sKHRpbWVsZWZ0ICsgJ3MnKTtcbiAgICAgIGlmKHRpbWVsZWZ0ID4gMCkge1xuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBwcm9ncmVzcyh0aW1lbGVmdCAtIDEsIHRpbWV0b3RhbCwgJGVsZW1lbnQpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICAgIGlmKHRpbWVsZWZ0ID09PSAwKXtcbiAgICAgICAgJCgnLmdhbWVSdW5uaW5nJykuaGlkZSgpO1xuICAgICAgICAkKCcuZ2FtZW92ZXInKS5mYWRlSW4oKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGNvbnN0IGF1ZGlvID0gJCgnYXVkaW8nKVswXTtcbiAgICBjb25zdCAkcmVzdWx0ID0gJCgnI3Jlc3VsdF9saXN0Jyk7XG4gICAgY29uc3QgJGxldHRlcnMgPSAkKCcjbGV0dGVyc19saXN0Jyk7XG4gICAgY29uc3QgJGhpbnQgPSAkKCcjZHJvcGRvd25IaW50Jyk7XG5cblxuICAgIGNvbnN0IG1vdmllVGl0bGVzID0gW3tcbiAgICAgIHRpdGxlOiAnU0NSRUFNJyxcbiAgICAgIGltYWdlOiAnc2NyZWFtLmJtcCcsXG4gICAgICBhdWRpbzogJ3NjcmVhbScsXG4gICAgICBoaW50OiAnV2hhdFxcJ3MgeW91ciBmYXZvdXJpdGUgU2NhcnkgTW92aWU/J1xuXG4gICAgfSwge1xuICAgICAgdGl0bGU6ICdJUk9OTUFOJyxcbiAgICAgIGltYWdlOiAnaXJvbm1hbi5ibXAnLFxuICAgICAgYXVkaW86ICdpcm9ubWFuJyxcbiAgICAgIGhpbnQ6ICdIZXJvZXMgYXJlblxcJ3QgYm9ybi4gVGhleVxcJ3JlIGJ1aWx0LidcblxuICAgIH0sIHtcbiAgICAgIHRpdGxlOiAnUFJFREFUT1InLFxuICAgICAgaW1hZ2U6ICdwcmVkYXRvci5ibXAnLFxuICAgICAgYXVkaW86ICdwcmVkYXRvcicsXG4gICAgICBoaW50OiAnU29vbiB0aGUgaHVudCB3aWxsIGJlZ2luLidcbiAgICB9LCB7XG4gICAgICB0aXRsZTogJ1JPQk9DT1AnLFxuICAgICAgaW1hZ2U6ICdyb2JvY29wLmJtcCcsXG4gICAgICBhdWRpbzogJ3JvYm9jb3AnLFxuICAgICAgaGludDogJ1BhcnQgbWFuLiBQYXJ0IG1hY2hpbmUuIEFsbCBjb3AuJ1xuICAgIH0sIHtcbiAgICAgIHRpdGxlOiAnQkFUTUFOX1ZTX1NVUEVSTUFOJyxcbiAgICAgIGltYWdlOiAnYmF0bWFudnNzdXBlcm1hbi5ibXAnLFxuICAgICAgYXVkaW86ICdiYXRtYW52c3N1cGVybWFuJyxcbiAgICAgIGhpbnQ6ICdEYXduIG9mIEp1c3RpY2UnXG4gICAgfSwge1xuICAgICAgdGl0bGU6ICdHTEFESUFUT1InLFxuICAgICAgaW1hZ2U6ICdnbGFkaWF0b3IuYm1wJyxcbiAgICAgIGF1ZGlvOiAnZ2xhZGlhdG9yJyxcbiAgICAgIGhpbnQ6ICdGYXRoZXIgb2YgYSBtdXJkZXJlZCBzb24sIGh1c2JhbmQgdG8gYSBtdXJkZXJlZCB3aWZlIGFuZCBJIHNoYWxsIGhhdmUgbXkgdmVuZ2VhbmNlIGluIHRoaXMgbGlmZSBvciB0aGUgbmV4dC4nXG4gICAgfSwge1xuICAgICAgdGl0bGU6ICdGUklEQVlfVEhFXzEzVEgnLFxuICAgICAgaW1hZ2U6ICdmcmlkYXl0aGUxM3RoLmJtcCcsXG4gICAgICBhdWRpbzogJ2ZyaWRheXRoZTEzdGgnLFxuICAgICAgaGludDogJ0ZyaWRheXMgd2lsbCBuZXZlciBiZSB0aGUgc2FtZSBhZ2Fpbi4nXG4gICAgfSwge1xuICAgICAgdGl0bGU6ICdWX0ZPUl9WRU5ERVRUQScsXG4gICAgICBpbWFnZTogJ3Zmb3J2ZW5kZXR0YS5ibXAnLFxuICAgICAgYXVkaW86ICd2Zm9ydmVuZGV0dGEnLFxuICAgICAgaGludDogJ1JlbWVtYmVyLCByZW1lbWJlciB0aGUgNXRoIG9mIE5vdmVtYmVyLidcbiAgICB9LCB7XG4gICAgICB0aXRsZTogJ1BIQU5UT01fT0ZfVEhFX09QRVJBJyxcbiAgICAgIGltYWdlOiAncGhhbnRvbW9mdGhlb3BlcmEuYm1wJyxcbiAgICAgIGF1ZGlvOiAncGhhbnRvbW9mdGhlb3BlcmEnXG4gICAgfV07XG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IDA7XG4gICAgbGV0IGN1cnJlbnRUaXRsZSA9IG1vdmllVGl0bGVzW2N1cnJlbnRJbmRleF07XG4gICAgY29uc29sZS5sb2coJ01vdmllOicsIGN1cnJlbnRUaXRsZSk7XG5cbiAgICBmdW5jdGlvbiBjb25ncmF0cygpIHtcbiAgICAgICRsZXR0ZXJzLmh0bWwoJycpO1xuICAgICAgJHJlc3VsdC5odG1sKCdOaWNlLiA8YnI+T24gdG8gdGhlIG5leHQgb25lLicpO1xuXG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFyTGV0dGVycygpIHtcbiAgICAgICRsZXR0ZXJzLmh0bWwoJycpO1xuICAgICAgJHJlc3VsdC5odG1sKCcnKTtcbiAgICAgIGRpc3BsYXlXb3JkKCk7XG4gICAgfVxuXG4gICAgLy8gc2h1ZmZsZSBmdW5jdGlvblxuICAgIFN0cmluZy5wcm90b3R5cGUuc2h1ZmZsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhID0gdGhpcy5zcGxpdCgnJyksXG4gICAgICAgIG4gPSBhLmxlbmd0aDtcblxuICAgICAgZm9yKHZhciBpID0gbiAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgdmFyIGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgICAgdmFyIHRtcCA9IGFbaV07XG4gICAgICAgIGFbaV0gPSBhW2pdO1xuICAgICAgICBhW2pdID0gdG1wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGEuam9pbignJyk7XG4gICAgfTtcblxuXG4gICAgLy8gc2h1ZmZsZWQgd29yZCBhbmQgcGxhY2UgaW4gbGV0dGVyc1xuICAgIGZ1bmN0aW9uIGRpc3BsYXlXb3JkKCl7XG4gICAgICBjb25zdCBzaHVmZmxlZFdvcmQgPSBjdXJyZW50VGl0bGUudGl0bGUuc2h1ZmZsZSgpO1xuICAgICAgJGxldHRlcnMuZW1wdHkoKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdzaHVmZmxlZCB3b3JkJywgc2h1ZmZsZWRXb3JkKTtcbiAgICAgIGZvciAobGV0IGk9MDsgaSA8IHNodWZmbGVkV29yZC5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgJGxldHRlcnMuYXBwZW5kKGA8bGkgZGF0YS1pbmRleD0ke2l9PiR7c2h1ZmZsZWRXb3JkW2ldfTwvbGk+YCk7XG4gICAgICB9XG4gICAgICBwcm9ncmVzcygxMCwgMTAsICQoJyNwcm9ncmVzc0JhcicpKTtcblxuICAgICAgLy8gaW1hZ2UgY2hhbmdlIHdoZW4gbW92aWUgdGl0bGUgY2hhbmdlc1xuICAgICAgJCgnI21vdmllX3BpY3R1cmUnKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCBgdXJsKHB1YmxpYy9hc3NldHMvJHtjdXJyZW50VGl0bGUuaW1hZ2V9KWApO1xuICAgICAgLy8gYXVkaW8gY2hhbmdlIHdoZW4gbW92aWUgdGl0bGUgY2hhbmdlc1xuICAgICAgYXVkaW8uc3JjID0gYHB1YmxpYy9hc3NldHMvJHtjdXJyZW50VGl0bGUuYXVkaW99Lm1wM2A7XG4gICAgICBhdWRpby5sb29wID0gdHJ1ZTtcbiAgICAgIGF1ZGlvLnBsYXkoKTtcbiAgICAgIC8vIC8vIGhpbnQgY2hhbmdlcyB3aGVuIG1vdmllIHRpdGxlIGNoYW5nZXNcbiAgICAgIC8vICQoJyNkcm9wZG93bkhpbnQnKS5odG1sO1xuICAgICAgJGhpbnQudGV4dChjdXJyZW50VGl0bGUuaGludCk7XG5cblxuICAgIH1cblxuICAgIGRpc3BsYXlXb3JkKCk7XG5cbiAgICAvLyBoaWRpbmcgbGV0dGVycyB3aGVuIGNsaWNrZWQgaW4gdGhlIGxldHRlcnNfbGlzdCBhbmQgc2hvdyBpbiByZXN1bHRfbGlzdFxuICAgICRsZXR0ZXJzLm9uKCdjbGljaycsJ2xpJywgKGUpID0+IHtcbiAgICAgICQoZS50YXJnZXQpLmhpZGUoKTtcbiAgICAgIGNvbnN0IGxldHRlciA9ICQoZS50YXJnZXQpLnRleHQoKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gJChlLnRhcmdldCkuZGF0YSgnaW5kZXgnKTtcbiAgICAgIGNvbnNvbGUubG9nKGxldHRlcik7XG4gICAgICAkcmVzdWx0LmFwcGVuZChgPGxpIGRhdGEtaW5kZXg9JHtpbmRleH0+JHtsZXR0ZXJ9PC9saT5gKTtcbiAgICAgIGlmICgkcmVzdWx0LnRleHQoKSA9PT0gY3VycmVudFRpdGxlLnRpdGxlKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgYXVkaW8uc3JjID0gYHB1YmxpYy9hc3NldHMvY29ycmVjdC5tcDNgO1xuICAgICAgICBhdWRpby5sb29wID0gZmFsc2U7XG4gICAgICAgIGF1ZGlvLnBsYXkoKTtcbiAgICAgICAgY29uZ3JhdHMoKTtcblxuXG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPCBtb3ZpZVRpdGxlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgY3VycmVudEluZGV4Kys7XG4gICAgICAgICAgY3VycmVudFRpdGxlID0gbW92aWVUaXRsZXNbY3VycmVudEluZGV4XTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGNsZWFyTGV0dGVycywgMTgwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZ2FtZSBvdmVyIGxvZ2ljXG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNsZWFyTGV0dGVycygpKTtcbiAgICAgICAgLy8gcmV0dXJuIGN1cnJlbnRUaXRsZS5kaXNwbGF5V29yZFxuXG4gICAgICB9XG5cblxuICAgIH0pO1xuXG4gICAgLy8gaGlkaW5nIGxldHRlcnMgd2hlbiBjbGlja2VkIGluIHJlc3VsdF9saXN0IGFuZCBzaG93IGluIGxldHRlcnNfbGlzdFxuICAgICRyZXN1bHQub24oJ2NsaWNrJywgJ2xpJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGRhdGFJbmRleCA9ICQoZS50YXJnZXQpLmRhdGEoJ2luZGV4Jyk7XG4gICAgICAkbGV0dGVycy5jaGlsZHJlbigpLmZpbHRlcigoaW5kZXgpID0+IHtcbiAgICAgICAgcmV0dXJuIGluZGV4ID09PSBkYXRhSW5kZXg7XG4gICAgICB9KS5zaG93KCk7XG4gICAgICAkKGUudGFyZ2V0KS5yZW1vdmUoKTtcblxuICAgICAgLy8gdXNlIHRoZSBkYXRhIGluZGV4IHRvIGRpc3BsYXkgdGhlIHBhcnRpY3VsYXIgTElcbiAgICAgIC8vIGRpc3BsYXkgbm9uZSB0aGUgTEkgd2UganVzdCBjbGlja2VkIHRvIG1vdmUgYmFjayBkb3duXG4gICAgICBjb25zb2xlLmxvZygkKGUudGFyZ2V0KSk7XG4gICAgfSk7XG5cblxuXG4gICAgLy8gY29ycmVjdCBsZXR0ZXIgcGFzcyBpbi4gZXZlbnQgbGlzdGVuZXIgd2lsbCBzaXQgb24gdGhlIGxpJ3NcbiAgICAvLyBsb29rIGludG8gZXZlbnQgZGVsZWdhdGlvbiB3aGljaCBpcyBwdXR0aW5nIGFuIGV2ZW50IGxpc3RlbmVyIGFjcm9zcyB0aGUgd2hvbGUgVUwgb24gZWFjaCBMSVxuICAgIC8vICRlLnRhcmdldCBodG1sXG5cbiAgfVxufSk7XG5cblxuXG4vL0FjdGlvbiAgUGxhbjpcbi8vIENyZWF0ZSBiYXNpYyBsYXlvdXQgY29udGFpbmluZyAxMiBkaXZzLiAxIG1haW4gY29udGFpbmVyLiAxIGhlYWRlciBjb250YWluaW5nIDMgaGVhZGVycyBmb3IgbG9nbywgdGltZXIgYW5kIHNjb3JlLiAxICd0b3AnIGRpdiBjb250YWluaW5nIDMgZGl2cyBmb3IgbW92aWUgcGljdHVyZSwgbW92aWUgdGl0bGUgcmVzdWx0LCBnYW1lIG9wdGlvbnMuIDEgJ2JvdHRvbScgZGl2IGNvbnRhaW5pbmcgYSBsZXR0ZXJzIGRpdiB3aXRoIGFuIHVub3JkZXJlZCBsZXR0ZXJzIGxpc3Qgd2l0aGluLlxuXG4vLyBXb3JrIG9uIHRoZSBzaHVmZmxlIGZ1bmN0aW9uIGFuZCBmaWd1cmUgb3V0IGhvdyB0byBtYWtlIGVhY2ggc2h1ZmZsZWQgbGV0dGVyIGNsaWNrYWJsZSBhcyB3ZWxsIGFzIG1ha2UgaXQgZGlzc2FwZWFyIGFuZCBzaG93IGluIHRoZSAnbW92aWUgdGl0bGUnIGRpdi4gVGhlIGxldHRlcnMgd2lsbCBiZSBwbGFjZWQgaW4gb3JkZXIgb2YgY2xpY2tzIGFuZCBhbnN3ZXIgaXMgb25seSBjb3JyZWN0IHdoZW4gbGV0dGVycyBhcmUgaW4gdGhlIHJpZ2h0IG9yZGVyLiBVc2UgdGhlIHNwbGl0ZWQgYXJyYXkgd2l0aCBhIGZvckVhY2ggc3RhdGVtZW50IHdoZW4gY3JlYXRpbmcgdGhlIGJveGVzLlxuXG4vLyBjaGFuZ2UgbW92aWUgdGl0bGUgLSBkb25lXG4vLyBjbGVhciBleGlzdGluZyBsZXR0ZXJzX2xpc3QgLSBkb25lXG4vLyBzaHVmZmxlIHRoZSB3b3JkIC0gZG9uZVxuLy8gZGlzcGxheSBzaHVmZmxlZCBsZXR0ZXJzIC0gZG9uZVxuLy8gZGlzcGxheSBjb3JyZWN0IGltYWdlIGFuZCBjaGFuZ2UgZm9yIHRpdGxlIC0gZG9uZVxuLy8gcGxheSBjb3JyZWN0IGF1ZGlvIGFuZCBjaGFuZ2UgZm9yIHRpdGxlIC0gZG9uZVxuLy8gZ2l2ZSBoaW50IHZhbHVlIGluIGVhY2ggb2JqZWN0IGFuZCBjaGFuZ2UgZWFjaCB0aXRsZSAtXG5cbi8vVGlwczpcbi8vTWlrZTogU3BsaXQgZmlsbSwgY3JlYXRlIGEgZm9yIGxvb3AgYW5kIGFwcGVuZCB0byBET00uXG5cbi8vU3RhY2tvdmVyZmxvdzogWW91IGRvbid0IG5lZWQgdG8gaGlkZSB0aGUgbGV0dGVycywgdXNlIGRhdGEtYXR0cmlidXRlcyB0byBpZGVudGlmeSB0aGUgcmlnaHQgcG9zaXRpb24gb2YgdGhlbSBpbiB0aGUgTW92aWUgVGl0bGUgY29udGFpbmVyIGFuZCBhcHBlbmQgdGhhdCBpbiB0aGUgZW1wdHkgYm94ZXMuIFRoZSBsZXR0ZXJzIHRoYXQgZG9lc24ndCBjb3JyZXNwb25kIHRvIHRoZSBtb3ZpZSB0aXRsZSBqdXN0IHB1dCB3aXRoIGRhdGEtYXR0cmlidXRlcyBlbXB0eSBhbmQgeW91ciBhbGdvcml0aG0gd2lsbCBmaWx0ZXIgdGhhdCBwdXR0aW5nIGEgcmVkIGJvcmRlciBpbnRvIHNlbGVjdGVkIHdyb25nIGxldHRlciBhbmQgc3R1ZmY7XG4iXX0=
